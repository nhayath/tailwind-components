<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Horizontal Scroller</title>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div class="container mx-auto">
    <div class="relative px-4" x-data="scrollerData">
        <ul id="scroller" class="flex gap-4 overflow-x-hidden my-6" x-ref="scroller">
            <template x-for="n in 20">
                <li x-text="'item ' + n " class="flex shrink-0 h-32 w-32 bg-gray-500 items-center justify-center"></li>
            </template>
        </ul>

        <div class="flex space-x-4">
            <button type="button" x-show="showLeft" @click="scrollLeft" class="bg-gray-500 px-3 py-2">Left</button>
            <button type="button" x-show="showRight" @click="scrollRight" class="bg-gray-500 px-3 py-2">Right</button>
        </div>

    </div>
  </div>

  <script>
    function scrollerData() {
        return {
            showLeft: false,
            showRight: false,
            init() {
                this.updateScrollPos()
            },
            scrollRight() {
                const scroller = this.$refs.scroller;
                // console.log(scroller.clientWidth)
                scroller.scrollBy({ left: scroller.clientWidth, behavior: 'smooth' });
                this.updateScrollPos()
            },
            scrollLeft() {
                const scroller = this.$refs.scroller;
                scroller.scrollBy({ left: -scroller.clientWidth, behavior: 'smooth' });
                this.updateScrollPos()
            },

            updateScrollPos() {
                setTimeout(() => {
                    const scroller = this.$refs.scroller;
                    const scrollLeft = scroller.scrollLeft;
                    const maxScrollLeft = scroller.scrollWidth - scroller.clientWidth;
                    console.log('left: ', scroller.scrollLeft)
                    console.log('maxScrollLeft: ', maxScrollLeft)

                    this.showLeft = (scrollLeft > 0);
                    this.showRight = (scrollLeft < maxScrollLeft)
                }, 50)
            }
        }
    }
  </script>
</body>
</html>
